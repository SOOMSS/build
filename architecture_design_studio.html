<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„¤ê³„ì‚¬ë¬´ì‹¤ - ê±´ì¶• ì„¤ê³„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .header::before {
            content: 'ğŸ—ï¸';
            font-size: 3rem;
            position: absolute;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 20px;
            padding: 30px;
            min-height: 80vh;
        }

        .sidebar {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            height: fit-content;
        }

        .sidebar h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3rem;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }

        .country-select, .style-select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 15px;
            transition: border-color 0.3s;
        }

        .country-select:focus, .style-select:focus {
            outline: none;
            border-color: #3498db;
        }

        .style-info {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
        }

        .style-info h4 {
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .style-info p {
            color: #666;
            line-height: 1.5;
            font-size: 0.9rem;
        }

        .design-canvas {
            background: white;
            border-radius: 15px;
            padding: 20px;
            position: relative;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.05);
        }

        .canvas-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }

        .canvas-header h3 {
            color: #2c3e50;
            font-size: 1.4rem;
        }

        .view-toggle {
            display: flex;
            gap: 10px;
        }

        .view-btn {
            padding: 8px 16px;
            border: 2px solid #3498db;
            background: white;
            color: #3498db;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .view-btn.active {
            background: #3498db;
            color: white;
        }

        .view-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }

        .canvas-area {
            width: 100%;
            height: 500px;
            border: 2px dashed #ddd;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: linear-gradient(45deg, #f8f9fa 25%, transparent 25%), 
                        linear-gradient(-45deg, #f8f9fa 25%, transparent 25%), 
                        linear-gradient(45deg, transparent 75%, #f8f9fa 75%), 
                        linear-gradient(-45deg, transparent 75%, #f8f9fa 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }

        .canvas-placeholder {
            text-align: center;
            color: #999;
            font-size: 1.1rem;
        }

        .drawing-canvas {
            position: absolute;
            top: 0;
            left: 0;
            cursor: crosshair;
            border-radius: 10px;
        }

        .tools-panel {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            height: fit-content;
        }

        .tool-section {
            margin-bottom: 25px;
        }

        .tool-section h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .tool-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .tool-btn {
            padding: 12px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .tool-btn:hover {
            border-color: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .tool-btn.active {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }

        .color-palette {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px;
            margin-bottom: 15px;
        }

        .color-btn {
            width: 100%;
            height: 30px;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .color-btn:hover {
            transform: scale(1.1);
        }

        .color-btn.active {
            border-color: #333;
            border-width: 3px;
        }

        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .action-btn {
            padding: 12px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            text-transform: uppercase;
            font-weight: bold;
        }

        .btn-save {
            background: #27ae60;
            color: white;
        }

        .btn-clear {
            background: #e74c3c;
            color: white;
        }

        .btn-export {
            background: #f39c12;
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .design-notes {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .design-notes h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .design-notes textarea {
            width: 100%;
            height: 100px;
            border: 2px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            font-family: inherit;
            resize: vertical;
        }

        .design-notes textarea:focus {
            outline: none;
            border-color: #3498db;
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .sidebar, .tools-panel {
                order: -1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ì„¤ê³„ì‚¬ë¬´ì‹¤</h1>
            <p>ë§ˆì¸í¬ë˜í”„íŠ¸ ê±´ì¶•ì„ ìœ„í•œ ì„¤ê³„ ë„êµ¬</p>
        </div>

        <div class="main-content">
            <!-- ì™¼ìª½ ì‚¬ì´ë“œë°” - ê±´ì¶•ì–‘ì‹ ì •ë³´ -->
            <div class="sidebar">
                <h3>ğŸŒ ê±´ì¶•ì–‘ì‹ ì„ íƒ</h3>
                
                <select class="country-select" id="countrySelect">
                    <option value="">êµ­ê°€/ì§€ì—­ ì„ íƒ</option>
                    <option value="japan">ì¼ë³¸</option>
                    <option value="korea">í•œêµ­</option>
                    <option value="china">ì¤‘êµ­</option>
                    <option value="europe">ìœ ëŸ½</option>
                    <option value="modern">í˜„ëŒ€ê±´ì¶•</option>
                </select>

                <select class="style-select" id="styleSelect">
                    <option value="">ê±´ì¶•ì–‘ì‹ ì„ íƒ</option>
                </select>

                <div class="style-info" id="styleInfo">
                    <h4>ê±´ì¶•ì–‘ì‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h4>
                    <p>êµ­ê°€ì™€ ê±´ì¶•ì–‘ì‹ì„ ì„ íƒí•˜ë©´ í•´ë‹¹ ìŠ¤íƒ€ì¼ì˜ íŠ¹ì§•ê³¼ ì„¤ê³„ íŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            </div>

            <!-- ì¤‘ì•™ ìº”ë²„ìŠ¤ ì˜ì—­ -->
            <div class="design-canvas">
                <div class="canvas-header">
                    <h3>ğŸ“ ì„¤ê³„ ìº”ë²„ìŠ¤</h3>
                    <div class="view-toggle">
                        <button class="view-btn active" data-view="top">í‰ë©´ë„</button>
                        <button class="view-btn" data-view="front">ì •ë©´ë„</button>
                        <button class="view-btn" data-view="side">ì¸¡ë©´ë„</button>
                    </div>
                </div>

                <div class="canvas-area" id="canvasArea">
                    <canvas class="drawing-canvas" id="drawingCanvas" width="800" height="500"></canvas>
                    <div class="canvas-placeholder" id="canvasPlaceholder">
                        <p>âœï¸ ì—¬ê¸°ì— ê±´ì¶•ë¬¼ì„ ì„¤ê³„í•´ë³´ì„¸ìš”!</p>
                        <p>ë„êµ¬ë¥¼ ì„ íƒí•˜ê³  ìº”ë²„ìŠ¤ì— ê·¸ë ¤ë³´ì„¸ìš”</p>
                    </div>
                </div>
            </div>

            <!-- ì˜¤ë¥¸ìª½ ë„êµ¬ íŒ¨ë„ -->
            <div class="tools-panel">
                <div class="tool-section">
                    <h4>ğŸ› ï¸ ê·¸ë¦¬ê¸° ë„êµ¬</h4>
                    <div class="tool-grid">
                        <button class="tool-btn active" data-tool="pen">âœï¸ íœ</button>
                        <button class="tool-btn" data-tool="line">ğŸ“ ì§ì„ </button>
                        <button class="tool-btn" data-tool="rect">â¬œ ì‚¬ê°í˜•</button>
                        <button class="tool-btn" data-tool="circle">â­• ì›</button>
                        <button class="tool-btn" data-tool="eraser">ğŸ—‘ï¸ ì§€ìš°ê°œ</button>
                        <button class="tool-btn" data-tool="text">ğŸ“ í…ìŠ¤íŠ¸</button>
                    </div>
                </div>

                <div class="tool-section">
                    <h4>ğŸ¨ ìƒ‰ìƒ</h4>
                    <div class="color-palette">
                        <div class="color-btn active" data-color="#000000" style="background: #000000;"></div>
                        <div class="color-btn" data-color="#8B4513" style="background: #8B4513;"></div>
                        <div class="color-btn" data-color="#DC143C" style="background: #DC143C;"></div>
                        <div class="color-btn" data-color="#32CD32" style="background: #32CD32;"></div>
                        <div class="color-btn" data-color="#1E90FF" style="background: #1E90FF;"></div>
                        <div class="color-btn" data-color="#FFD700" style="background: #FFD700;"></div>
                        <div class="color-btn" data-color="#FF69B4" style="background: #FF69B4;"></div>
                        <div class="color-btn" data-color="#9370DB" style="background: #9370DB;"></div>
                    </div>
                </div>

                <div class="tool-section">
                    <h4>âš™ï¸ ì‘ì—…</h4>
                    <div class="action-buttons">
                        <button class="action-btn btn-save" id="saveBtn">ğŸ’¾ ì €ì¥</button>
                        <button class="action-btn btn-clear" id="clearBtn">ğŸ—‘ï¸ ì§€ìš°ê¸°</button>
                        <button class="action-btn btn-export" id="exportBtn">ğŸ“¤ ë‚´ë³´ë‚´ê¸°</button>
                    </div>
                </div>

                <div class="design-notes">
                    <h4>ğŸ“ ì„¤ê³„ ë©”ëª¨</h4>
                    <textarea id="designNotes" placeholder="ì„¤ê³„ ì•„ì´ë””ì–´ë‚˜ íŠ¹ì§•ì„ ë©”ëª¨í•´ë³´ì„¸ìš”..."></textarea>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ê±´ì¶•ì–‘ì‹ ë°ì´í„°
        const architectureData = {
            japan: {
                name: "ì¼ë³¸",
                styles: {
                    traditional: {
                        name: "ì „í†µ ì¼ë³¸ ê±´ì¶•",
                        features: "ëª©ì¬ ì¤‘ì‹¬, ì²˜ë§ˆê°€ ê¹ŠìŒ, ë‹¤ë‹¤ë¯¸ ë°©, ë¯¸ë‹«ì´ë¬¸(ì‡¼ì§€), ì •ì›ê³¼ì˜ ì¡°í™”",
                        colors: ["#8B4513", "#654321", "#2F4F2F", "#DC143C"],
                        tips: "â€¢ ì§€ë¶•ì˜ ê³¡ì„ ê³¼ ì²˜ë§ˆ ë¼ì¸ ê°•ì¡°\nâ€¢ ìì—°ì†Œì¬ í™œìš©\nâ€¢ ê°œë°©ê°ê³¼ í†µí’ ê³ ë ¤"
                    },
                    machiya: {
                        name: "ë§ˆì¹˜ì•¼ (ìƒê°€ì£¼íƒ)",
                        features: "ì¢ê³  ê¸´ í˜•íƒœ, ì „ë©´ ìƒì +í›„ë©´ ì£¼ê±°, ì¤‘ì •(ì“°ë³´ë‹ˆì™€), ê²©ìì°½",
                        colors: ["#8B4513", "#2F4F2F", "#000000", "#F5DEB3"],
                        tips: "â€¢ ì¢ì€ ì „ë©´í­, ê¹Šì€ ê±´ë¬¼\nâ€¢ ì¤‘ì•™ ì¤‘ì •ìœ¼ë¡œ ì±„ê´‘ í™•ë³´\nâ€¢ ì „í†µ ê²©ìì°½ ë””ìì¸"
                    },
                    wabisabi: {
                        name: "ì™€ë¹„ì‚¬ë¹„",
                        features: "ë¶ˆì™„ì „í•¨ì˜ ë¯¸, ìì—°ìŠ¤ëŸ¬ìš´ ì¬ë£Œ, ë‹¨ìˆœí•¨, ì‹œê°„ì˜ í”ì ",
                        colors: ["#A0522D", "#696969", "#2F4F2F", "#F5F5DC"],
                        tips: "â€¢ ì™„ë²½í•˜ì§€ ì•Šì€ ìì—°ìŠ¤ëŸ¬ìš´ ë¼ì¸\nâ€¢ í’í™”ëœ ì§ˆê° í‘œí˜„\nâ€¢ ë¯¸ë‹ˆë©€í•œ êµ¬ì„±"
                    }
                }
            },
            korea: {
                name: "í•œêµ­",
                styles: {
                    hanok: {
                        name: "í•œì˜¥",
                        features: "ê¸°ì™€ì§€ë¶•, ë§ˆë£¨ì™€ ì˜¨ëŒ, ì²˜ë§ˆ ê³¡ì„ , ìì—°ê³¼ì˜ ì¡°í™”, ëŒ€ì²­ë§ˆë£¨",
                        colors: ["#8B4513", "#DC143C", "#2F4F2F", "#F5DEB3"],
                        tips: "â€¢ ì²˜ë§ˆì˜ ìš°ì•„í•œ ê³¡ì„ \nâ€¢ ë§ˆë‹¹ ì¤‘ì‹¬ì˜ ã„±ì, ã…ì ë°°ì¹˜\nâ€¢ ìì—° ì§€í˜• í™œìš©"
                    },
                    palace: {
                        name: "ê¶ê¶ ê±´ì¶•",
                        features: "ë‹¤í¬ê³„ ê³µí¬, í™”ë ¤í•œ ë‹¨ì²­, ëŒ€ì¹­ì  ë°°ì¹˜, ì›”ëŒ€ì™€ ê³„ë‹¨",
                        colors: ["#DC143C", "#32CD32", "#FFD700", "#1E90FF"],
                        tips: "â€¢ ê¶Œìœ„ì ì´ê³  ì¥ì—„í•œ ëŠë‚Œ\nâ€¢ í™”ë ¤í•œ ìƒ‰ì±„ ëŒ€ë¹„\nâ€¢ ëŒ€ì¹­ì  êµ¬ì„±"
                    }
                }
            },
            china: {
                name: "ì¤‘êµ­",
                styles: {
                    traditional: {
                        name: "ì „í†µ ì¤‘êµ­ ê±´ì¶•",
                        features: "ì‚¬í•©ì› êµ¬ì¡°, ìš©ë§ˆë£¨, í™”ë ¤í•œ ì¥ì‹, ë¶‰ì€ ê¸°ë‘¥, ê¸°ì™€ì§€ë¶•",
                        colors: ["#DC143C", "#FFD700", "#8B4513", "#2F4F2F"],
                        tips: "â€¢ ì¤‘ì •ì„ ë‘˜ëŸ¬ì‹¼ ê±´ë¬¼ ë°°ì¹˜\nâ€¢ ë¶‰ì€ìƒ‰ê³¼ ê¸ˆìƒ‰ ì¡°í•©\nâ€¢ ìš©, ë´‰í™© ë“± ì¥ì‹ ìš”ì†Œ"
                    }
                }
            },
            europe: {
                name: "ìœ ëŸ½",
                styles: {
                    gothic: {
                        name: "ê³ ë”• ê±´ì¶•",
                        features: "ì²¨íƒ‘, ì•„ì¹˜í˜• ì°½ë¬¸, ì„ì¬ ê±´ì¶•, ë†’ì€ ì²œì¥, ìŠ¤í…Œì¸ë“œê¸€ë¼ìŠ¤",
                        colors: ["#696969", "#2F4F2F", "#1E90FF", "#9370DB"],
                        tips: "â€¢ ìˆ˜ì§ì  ê°•ì¡°\nâ€¢ ì•„ì¹˜ì™€ ê³¡ì„  í™œìš©\nâ€¢ ì›…ì¥í•˜ê³  ì‹ ë¹„ë¡œìš´ ë¶„ìœ„ê¸°"
                    },
                    renaissance: {
                        name: "ë¥´ë„¤ìƒìŠ¤ ê±´ì¶•",
                        features: "ëŒ€ì¹­ì  êµ¬ì¡°, ë”, ê³ ì „ì  ê¸°ë‘¥, ì¡°í™”ë¡œìš´ ë¹„ë¡€",
                        colors: ["#F5DEB3", "#8B4513", "#FFD700", "#DC143C"],
                        tips: "â€¢ ì™„ë²½í•œ ëŒ€ì¹­ê³¼ ë¹„ë¡€\nâ€¢ ê³ ì „ì  ì§ˆì„œì™€ ì¡°í™”\nâ€¢ ì¸ê°„ì  ìŠ¤ì¼€ì¼"
                    }
                }
            },
            modern: {
                name: "í˜„ëŒ€ê±´ì¶•",
                styles: {
                    minimalist: {
                        name: "ë¯¸ë‹ˆë©€ë¦¬ì¦˜",
                        features: "ë‹¨ìˆœí•œ í˜•íƒœ, ê¹”ë”í•œ ì„ , ê¸°ëŠ¥ ì¤‘ì‹¬, ì—¬ë°±ì˜ ë¯¸",
                        colors: ["#FFFFFF", "#000000", "#696969", "#C0C0C0"],
                        tips: "â€¢ ë¶ˆí•„ìš”í•œ ì¥ì‹ ì œê±°\nâ€¢ ê¸°ëŠ¥ì  ê³µê°„ êµ¬ì„±\nâ€¢ ê¹”ë”í•œ ì§ì„ "
                    },
                    sustainable: {
                        name: "ì¹œí™˜ê²½ ê±´ì¶•",
                        features: "ì—ë„ˆì§€ íš¨ìœ¨, ìì—° ì±„ê´‘, ì¹œí™˜ê²½ ì¬ë£Œ, ë…¹ìƒ‰ ì§€ë¶•",
                        colors: ["#32CD32", "#8B4513", "#1E90FF", "#FFD700"],
                        tips: "â€¢ ìì—°ê´‘ ìµœëŒ€ í™œìš©\nâ€¢ ë‹¨ì—´ê³¼ í™˜ê¸° ê³ ë ¤\nâ€¢ ì¬ìƒ ê°€ëŠ¥ ì—ë„ˆì§€"
                    }
                }
            }
        };

        // DOM ìš”ì†Œë“¤
        const countrySelect = document.getElementById('countrySelect');
        const styleSelect = document.getElementById('styleSelect');
        const styleInfo = document.getElementById('styleInfo');
        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas.getContext('2d');
        const canvasPlaceholder = document.getElementById('canvasPlaceholder');

        // í˜„ì¬ ìƒíƒœ
        let currentTool = 'pen';
        let currentColor = '#000000';
        let isDrawing = false;
        let startX, startY;
        let drawings = [];

        // ì´ˆê¸° ì„¤ì •
        canvas.style.display = 'none';

        // êµ­ê°€ ì„ íƒ ì´ë²¤íŠ¸
        countrySelect.addEventListener('change', function() {
            const selectedCountry = this.value;
            styleSelect.innerHTML = '<option value="">ê±´ì¶•ì–‘ì‹ ì„ íƒ</option>';
            
            if (selectedCountry && architectureData[selectedCountry]) {
                Object.keys(architectureData[selectedCountry].styles).forEach(styleKey => {
                    const style = architectureData[selectedCountry].styles[styleKey];
                    const option = document.createElement('option');
                    option.value = styleKey;
                    option.textContent = style.name;
                    styleSelect.appendChild(option);
                });
            }
            
            updateStyleInfo();
        });

        // ê±´ì¶•ì–‘ì‹ ì„ íƒ ì´ë²¤íŠ¸
        styleSelect.addEventListener('change', updateStyleInfo);

        function updateStyleInfo() {
            const selectedCountry = countrySelect.value;
            const selectedStyle = styleSelect.value;
            
            if (selectedCountry && selectedStyle && 
                architectureData[selectedCountry] && 
                architectureData[selectedCountry].styles[selectedStyle]) {
                
                const style = architectureData[selectedCountry].styles[selectedStyle];
                styleInfo.innerHTML = `
                    <h4>${style.name}</h4>
                    <p><strong>íŠ¹ì§•:</strong> ${style.features}</p>
                    <p><strong>ì„¤ê³„ íŒ:</strong></p>
                    <pre style="white-space: pre-line; font-family: inherit; margin: 5px 0;">${style.tips}</pre>
                `;
                
                // ì¶”ì²œ ìƒ‰ìƒ ì—…ë°ì´íŠ¸
                updateRecommendedColors(style.colors);
                showCanvas();
            } else {
                styleInfo.innerHTML = `
                    <h4>ê±´ì¶•ì–‘ì‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h4>
                    <p>êµ­ê°€ì™€ ê±´ì¶•ì–‘ì‹ì„ ì„ íƒí•˜ë©´ í•´ë‹¹ ìŠ¤íƒ€ì¼ì˜ íŠ¹ì§•ê³¼ ì„¤ê³„ íŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                `;
            }
        }

        function updateRecommendedColors(colors) {
            const colorPalette = document.querySelector('.color-palette');
            colorPalette.innerHTML = '';
            
            colors.forEach((color, index) => {
                const colorBtn = document.createElement('div');
                colorBtn.className = `color-btn ${index === 0 ? 'active' : ''}`;
                colorBtn.setAttribute('data-color', color);
                colorBtn.style.background = color;
                colorBtn.addEventListener('click', function() {
                    document.querySelectorAll('.color-btn').forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    currentColor = color;
                });
                colorPalette.appendChild(colorBtn);
            });
            currentColor = colors[0];
        }

        function showCanvas() {
            canvas.style.display = 'block';
            canvasPlaceholder.style.display = 'none';
        }

        // ë„êµ¬ ì„ íƒ
        document.querySelectorAll('.tool-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentTool = this.getAttribute('data-tool');
            });
        });

        // ìƒ‰ìƒ ì„ íƒ (ì´ˆê¸° ìƒ‰ìƒë“¤)
        document.querySelectorAll('.color-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentColor = this.getAttribute('data-color');
            });
        });

        // ë·° í† ê¸€
        document.querySelectorAll('.view-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                // ë·° ë³€ê²½ ì‹œ ìº”ë²„ìŠ¤ ì´ˆê¸°í™” (ì„ íƒì‚¬í•­)
            });
        });

        // ìº”ë²„ìŠ¤ ê·¸ë¦¬ê¸° ì´ë²¤íŠ¸
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);

        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            startX = e.clientX - rect.left;
            startY = e.clientY - rect.top;
        }

        function draw(e) {
            if (!isDrawing) return;
            
            const rect = canvas.getBoundingClientRect();
            const currentX = e.clientX - rect.left;
            const currentY = e.clientY - rect.top;
            
            ctx.lineWidth = currentTool === 'eraser' ? 10 : 2;
            ctx.lineCap = 'round';
            ctx.strokeStyle = currentTool === 'eraser' ? '#FFFFFF' : currentColor;
            
            if (currentTool === 'pen' || currentTool === 'eraser') {
                ctx.globalCompositeOperation = currentTool === 'eraser' ? 'destination-out' : 'source-over';
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(currentX, currentY);
                ctx.stroke();
                startX = currentX;
                startY = currentY;
            }
        }

        function stopDrawing(e) {
            if (!isDrawing) return;
            isDrawing = false;
            
            const rect = canvas.getBoundingClientRect();
            const endX = e.clientX - rect.left;
            const endY = e.clientY - rect.top;
            
            ctx.globalCompositeOperation = 'source-over';
            
            if (currentTool === 'line') {
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.strokeStyle = currentColor;
                ctx.lineWidth = 2;
                ctx.stroke();
            } else if (currentTool === 'rect') {
                ctx.beginPath();
                ctx.rect(startX, startY, endX - startX, endY - startY);
                ctx.strokeStyle = currentColor;
                ctx.lineWidth = 2;
                ctx.stroke();
            } else if (currentTool === 'circle') {
                const radius = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
                ctx.beginPath();
                ctx.arc(startX, startY, radius, 0, 2 * Math.PI);
                ctx.strokeStyle = currentColor;
                ctx.lineWidth = 2;
                ctx.stroke();
            }
        }

        // ì•¡ì…˜ ë²„íŠ¼ë“¤
        document.getElementById('clearBtn').addEventListener('click', function() {
            if (confirm('ìº”ë²„ìŠ¤ë¥¼ ì§€ìš°ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }
        });

        document.getElementById('saveBtn').addEventListener('click', function() {
            // ì‹¤ì œë¡œëŠ” ì„œë²„ì— ì €ì¥í•˜ê±°ë‚˜ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
            const imageData = canvas.toDataURL();
            const notes = document.getElementById('designNotes').value;
            console.log('Design saved:', { imageData, notes });
            alert('ì„¤ê³„ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        });

        document.getElementById('exportBtn').addEventListener('click', function() {
            const link = document.createElement('a');
            link.download = 'architecture_design.png';
            link.href = canvas.toDataURL();
            link.click();
        });
    </script>
</body>
</html>